<div class="container mt-5">

    <div class="col-lg-8 col-lg-offset-6 col-centered">
        <div class="card">
            <div>
                <button class="btn btn-link" (click)="changePage('Add')">Add Transaction</button>|
                <button class="btn btn-link" (click)="changePage('View')">View Transaction</button>
            </div>
            <div class="card-body center" *ngIf="page == 'Add'">
                <div class="card-title">
                  <h4>Add Transaction</h4>
                </div>
                <div class="row-lg mt-1" *ngFor="let transaction of m.controls; let i = index">
                    <!-- <h4 >Transaction {{i+1}}</h4> -->
                    <form [formGroup]="transaction" (ngSubmit)="addItem(i)">
                        <div class="form-group">
                                <label class="pt-2">Transaction Name: </label>
                                <input class="form-control" type="text" formControlName="name" placeholder="Walmart"/>

                                <label class="pt-2" >Amount: </label>
                                <input class="form-control"  type='number' min=".01" formControlName="amount" placeholder="147.59"/>
                            
                                <label class="pt-2" >Date: </label>
                                <input class="form-control"  type="date" formControlName="date"/>

                                <label class="pt-2" >Type: </label>
                                <input class="form-control" type="text" formControlName="type" placeholder=" Food, Bills, etc."/>

                            <div class=" row text-danger" *ngIf="transaction.invalid">Please fill all required fields</div>
                            <div class="row mt-2">
                                <button type="submit" class="btn btn btn-success">Submit</button>
                                <!-- <button class="btn btn-sm btn-danger ml-2" (click)="deleteItem(i)">Delete</button> -->
                            </div>
                        </div>
                    </form>
                </div>

                <div *ngIf="notification != null && notification != undefined">

                      <div *ngIf="notification.isValid" class="alert alert-success alert-dismissible fade show" role="alert">
                        {{notification.message}}
                        <button (click)="clearNotification()" type="button" class="close" data-dismiss="alert" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>

                      <div *ngIf="!notification.isValid"  class="alert alert-warning alert-dismissible fade show" role="alert" >
                        {{notification.message}}
                        <button (click)="clearNotification()" type="button" class="close" data-dismiss="alert" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                </div>
            </div>

            <app-view-transactions *ngIf="page == 'View'" ></app-view-transactions>
        </div>
    </div>
</div>